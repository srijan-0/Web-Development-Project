{"ast":null,"code":"import axios from \"axios\";\nconst apiURL = process.env.REACT_APP_API_URL;\nexport const getAllNotices = async () => {\n  try {\n    let res = await axios.get(`${apiURL}/api/notice/all-notices`);\n    return res.data;\n  } catch (error) {\n    var _error$response;\n    console.error(\"Error fetching notices:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error);\n    return {\n      error: \"Failed to fetch notices\"\n    };\n  }\n};\n\n// Function to create a new notice (NO TOKEN REQUIRED)\nexport const createNotice = async ({\n  title,\n  description,\n  time\n}) => {\n  let data = {\n    title,\n    description,\n    time\n  };\n  try {\n    let res = await axios.post(`${apiURL}/api/notice/add-notice`, data, {\n      headers: {\n        \"Content-Type\": \"application/json\" // No Authorization header\n      }\n    });\n    return res.data;\n  } catch (error) {\n    var _error$response2;\n    console.error(\"Error creating notice:\", ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || error);\n    return {\n      error: \"Failed to create notice\"\n    };\n  }\n};\n\n// Function to edit an existing notice\ne; // Edit function to return the updated list of notices\nexport const editNotice = async (nId, title, description, time) => {\n  let data = {\n    nId,\n    title,\n    description,\n    time\n  };\n  try {\n    let res = await axios.post(`${apiURL}/api/notice/edit-notice`, data);\n    if (res.data.success) {\n      // Return the updated notices list after editing\n      let updatedNotices = await getAllNotices(); // Fetch the updated notices after edit\n      return updatedNotices; // Return the updated list\n    }\n    return {\n      error: \"Failed to edit notice\"\n    };\n  } catch (error) {\n    var _error$response3;\n    console.error(\"Error editing notice:\", ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data) || error);\n    return {\n      error: \"Failed to edit notice\"\n    };\n  }\n};\n\n// Function to delete a notice\nexport const deleteNotice = async nId => {\n  try {\n    let res = await axios.post(`${apiURL}/api/notice/delete-notice`, {\n      nId\n    });\n    return res.data;\n  } catch (error) {\n    var _error$response4;\n    console.error(\"Error deleting notice:\", ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.data) || error);\n    return {\n      error: \"Failed to delete notice\"\n    };\n  }\n};","map":{"version":3,"names":["axios","apiURL","process","env","REACT_APP_API_URL","getAllNotices","res","get","data","error","_error$response","console","response","createNotice","title","description","time","post","headers","_error$response2","e","editNotice","nId","success","updatedNotices","_error$response3","deleteNotice","_error$response4"],"sources":["C:/Users/ACER/Downloads/New folder (2)/MERN_Stack_Project_Ecommerce_Hayroo/client/src/components/admin/notices/fetchApi.js"],"sourcesContent":["import axios from \"axios\";\r\nconst apiURL = process.env.REACT_APP_API_URL;\r\n\r\nexport const getAllNotices = async () => {\r\n    try {\r\n        let res = await axios.get(`${apiURL}/api/notice/all-notices`);\r\n        return res.data;\r\n    } catch (error) {\r\n        console.error(\"Error fetching notices:\", error.response?.data || error);\r\n        return { error: \"Failed to fetch notices\" };\r\n    }\r\n};\r\n\r\n// Function to create a new notice (NO TOKEN REQUIRED)\r\nexport const createNotice = async ({ title, description, time }) => {\r\n    let data = { title, description, time };\r\n    try {\r\n        let res = await axios.post(`${apiURL}/api/notice/add-notice`, data, {\r\n            headers: {\r\n                \"Content-Type\": \"application/json\", // No Authorization header\r\n            },\r\n        });\r\n        return res.data;\r\n    } catch (error) {\r\n        console.error(\"Error creating notice:\", error.response?.data || error);\r\n        return { error: \"Failed to create notice\" };\r\n    }\r\n};\r\n\r\n// Function to edit an existing notice\r\ne// Edit function to return the updated list of notices\r\nexport const editNotice = async (nId, title, description, time) => {\r\n    let data = { nId, title, description, time };\r\n    try {\r\n        let res = await axios.post(`${apiURL}/api/notice/edit-notice`, data);\r\n        if (res.data.success) {\r\n            // Return the updated notices list after editing\r\n            let updatedNotices = await getAllNotices(); // Fetch the updated notices after edit\r\n            return updatedNotices;  // Return the updated list\r\n        }\r\n        return { error: \"Failed to edit notice\" };\r\n    } catch (error) {\r\n        console.error(\"Error editing notice:\", error.response?.data || error);\r\n        return { error: \"Failed to edit notice\" };\r\n    }\r\n};\r\n\r\n\r\n// Function to delete a notice\r\nexport const deleteNotice = async (nId) => {\r\n    try {\r\n        let res = await axios.post(`${apiURL}/api/notice/delete-notice`, { nId });\r\n        return res.data;\r\n    } catch (error) {\r\n        console.error(\"Error deleting notice:\", error.response?.data || error);\r\n        return { error: \"Failed to delete notice\" };\r\n    }\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;AAE5C,OAAO,MAAMC,aAAa,GAAG,MAAAA,CAAA,KAAY;EACrC,IAAI;IACA,IAAIC,GAAG,GAAG,MAAMN,KAAK,CAACO,GAAG,CAAC,GAAGN,MAAM,yBAAyB,CAAC;IAC7D,OAAOK,GAAG,CAACE,IAAI;EACnB,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAC,eAAA;IACZC,OAAO,CAACF,KAAK,CAAC,yBAAyB,EAAE,EAAAC,eAAA,GAAAD,KAAK,CAACG,QAAQ,cAAAF,eAAA,uBAAdA,eAAA,CAAgBF,IAAI,KAAIC,KAAK,CAAC;IACvE,OAAO;MAAEA,KAAK,EAAE;IAA0B,CAAC;EAC/C;AACJ,CAAC;;AAED;AACA,OAAO,MAAMI,YAAY,GAAG,MAAAA,CAAO;EAAEC,KAAK;EAAEC,WAAW;EAAEC;AAAK,CAAC,KAAK;EAChE,IAAIR,IAAI,GAAG;IAAEM,KAAK;IAAEC,WAAW;IAAEC;EAAK,CAAC;EACvC,IAAI;IACA,IAAIV,GAAG,GAAG,MAAMN,KAAK,CAACiB,IAAI,CAAC,GAAGhB,MAAM,wBAAwB,EAAEO,IAAI,EAAE;MAChEU,OAAO,EAAE;QACL,cAAc,EAAE,kBAAkB,CAAE;MACxC;IACJ,CAAC,CAAC;IACF,OAAOZ,GAAG,CAACE,IAAI;EACnB,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAU,gBAAA;IACZR,OAAO,CAACF,KAAK,CAAC,wBAAwB,EAAE,EAAAU,gBAAA,GAAAV,KAAK,CAACG,QAAQ,cAAAO,gBAAA,uBAAdA,gBAAA,CAAgBX,IAAI,KAAIC,KAAK,CAAC;IACtE,OAAO;MAAEA,KAAK,EAAE;IAA0B,CAAC;EAC/C;AACJ,CAAC;;AAED;AACAW,CAAC;AACD,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAOC,GAAG,EAAER,KAAK,EAAEC,WAAW,EAAEC,IAAI,KAAK;EAC/D,IAAIR,IAAI,GAAG;IAAEc,GAAG;IAAER,KAAK;IAAEC,WAAW;IAAEC;EAAK,CAAC;EAC5C,IAAI;IACA,IAAIV,GAAG,GAAG,MAAMN,KAAK,CAACiB,IAAI,CAAC,GAAGhB,MAAM,yBAAyB,EAAEO,IAAI,CAAC;IACpE,IAAIF,GAAG,CAACE,IAAI,CAACe,OAAO,EAAE;MAClB;MACA,IAAIC,cAAc,GAAG,MAAMnB,aAAa,CAAC,CAAC,CAAC,CAAC;MAC5C,OAAOmB,cAAc,CAAC,CAAE;IAC5B;IACA,OAAO;MAAEf,KAAK,EAAE;IAAwB,CAAC;EAC7C,CAAC,CAAC,OAAOA,KAAK,EAAE;IAAA,IAAAgB,gBAAA;IACZd,OAAO,CAACF,KAAK,CAAC,uBAAuB,EAAE,EAAAgB,gBAAA,GAAAhB,KAAK,CAACG,QAAQ,cAAAa,gBAAA,uBAAdA,gBAAA,CAAgBjB,IAAI,KAAIC,KAAK,CAAC;IACrE,OAAO;MAAEA,KAAK,EAAE;IAAwB,CAAC;EAC7C;AACJ,CAAC;;AAGD;AACA,OAAO,MAAMiB,YAAY,GAAG,MAAOJ,GAAG,IAAK;EACvC,IAAI;IACA,IAAIhB,GAAG,GAAG,MAAMN,KAAK,CAACiB,IAAI,CAAC,GAAGhB,MAAM,2BAA2B,EAAE;MAAEqB;IAAI,CAAC,CAAC;IACzE,OAAOhB,GAAG,CAACE,IAAI;EACnB,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAkB,gBAAA;IACZhB,OAAO,CAACF,KAAK,CAAC,wBAAwB,EAAE,EAAAkB,gBAAA,GAAAlB,KAAK,CAACG,QAAQ,cAAAe,gBAAA,uBAAdA,gBAAA,CAAgBnB,IAAI,KAAIC,KAAK,CAAC;IACtE,OAAO;MAAEA,KAAK,EAAE;IAA0B,CAAC;EAC/C;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}